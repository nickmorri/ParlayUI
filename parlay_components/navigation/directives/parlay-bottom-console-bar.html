<div layout="column" class="console_transform" ng-class="ctrl.console_hidden ? 'console_hidden' : 'console_expanded'">
	
	<md-toolbar ng-click="ctrl.toggleConsole()" class="parlay-bottom-bar">
    	<div class="md-toolbar-tools">
	    	<h2>
		    	<md-icon class="white"><ng-md-icon icon="{{ctrl.received_message_status_icon}}"></ng-md-icon></md-icon>
		    	Console
		    </h2>
			<span flex></span>
			<md-button class="md-icon-button" aria-label="Toggle console"><md-icon><ng-md-icon class="white" icon="{{ctrl.console_hidden ? 'unfold_more' : 'unfold_less'}}"></ng-md-icon></md-icon></md-button>
		</div>
	</md-toolbar>

	<div layout="row" ng-hide="ctrl.console_hidden">
		<md-input-container flex class="parlay-python-console-log-filter" ng-show="ctrl.console_filtering">
		    <label>Filter log</label>
			<input ng-model="ctrl.console_filter">
		</md-input-container>
	</div>

	<md-list class="parlay-console-list" scroll-glue flex>
		<md-list-item class="md-2-line parlay-console-list-item" ng-repeat="message in ctrl.getConsoleLog() | filter: {statement: ctrl.console_filter}">
			<md-icon ng-switch="message.user">
				<ng-md-icon ng-switch-when="true" icon="label"></ng-md-icon>
				<ng-md-icon ng-switch-when="false" icon="label_outline"></ng-md-icon>
			</md-icon>
			<div class="md-list-item-text parlay-console-list-item-text">
				<h3>{{message.statement}}</h3>
				<p am-time-ago="message.timeStamp"></p>
			</div>				
		</md-list-item>
	</md-list>
	
	<div layout="row" class="md-whiteframe-z5" ng-hide="ctrl.console_hidden">
		<md-input-container flex class="parlay-python-statement-input-container">
		    <label>Python Statement</label>
			<input ng-model="ctrl.console_command" ng-keyup="$event.keyCode == 13 && ctrl.consoleSendCommand()">
		</md-input-container>
		<md-button class="md-icon-button" ng-click="ctrl.toggleConsoleLogFilter()" aria-label="Toggle console filter"><md-icon><ng-md-icon icon="filter_list"></ng-md-icon></md-icon></md-button>
		<md-button class="md-icon-button md-warn" ng-click="ctrl.clearConsoleLog()" ng-disabled="!ctrl.hasConsoleLog()" aria-label="Clear console log"><md-icon><ng-md-icon icon="delete"></ng-md-icon></md-icon></md-button>
	</div>
	
</div>