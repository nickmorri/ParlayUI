<span ng-repeat="field in fields">

    <md-input-container md-is-error="commandform[field.msg_key].$invalid" ng-hide="field.hidden">
                     
        <label ng-hide="field.input === 'NUMBERS' || field.input === 'STRINGS' || field.input === 'ARRAY'">{{field.label}}</label>
                        
        <md-select ng-if="field.input === 'DROPDOWN'" name="{{field.msg_key}}" ng-model="message[field.msg_key + '_' + field.input]" ng-required="field.required">
            <span ng-if="!field.options.length">
                <md-option ng-repeat="(key, option) in field.options" ng-value="option">{{key}}</md-option>
            </span>
            <span ng-if="field.options.length">
                <md-option ng-repeat="option in field.options" ng-value="option">{{option}}</md-option>
            </span>            
        </md-select>
        
        <input ng-if="field.input === 'NUMBER'" name="{{field.msg_key}}" ng-model="message[field.msg_key + '_' + field.input]" type="number" ng-required="field.required">
        
        <md-chips name="{{field.msg_key}}" ng-model="message[field.msg_key + '_' + field.input]" ng-if="field.input === 'NUMBERS' || field.input === 'STRINGS' || field.input === 'ARRAY'" ng-required="field.required" placeholder="{{field.label}}" secondary-placeholder="{{field.label}}"></md-chips>
        
        <div class="errors" ng-messages="commandform[field.msg_key].$error" ng-if="commandform[field.msg_key + '_' + field.input]">
            <div ng-message="required">{{field.msg_key}} is required</div>
        </div>
        
    </md-input-container>
    
    <promenade-standard-endpoint-card-command-container ng-if="hasSubFields(field)" commandform="commandform" message="message" fields="getSubFields(field)" flex></promenade-standard-endpoint-card-command-container>

</span>