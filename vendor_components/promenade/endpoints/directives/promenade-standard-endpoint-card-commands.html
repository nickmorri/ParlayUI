<md-tab label="Commands">

	<md-toolbar class="md-hue-2">
		<div class="md-toolbar-tools">
			<span flex></span>
			
			<md-menu md-position-mode="target-right target">
				<md-button class="md-icon-button" aria-label="More" ng-click="$mdOpenMenu($event)">
					<md-icon md-menu-origin><ng-md-icon icon="more_vert"></ng-md-icon></md-icon>
				</md-button>
				<md-menu-content>
					<md-menu-item>
						<md-button ng-click="ctrl.copyCommand($event)" aria-label="Copy command to clipboard">
							<md-icon md-menu-align-target><ng-md-icon icon="content_copy"></ng-md-icon></md-icon>
							Copy command to clipboard
						</md-button>
					</md-menu-item>
					<md-menu-item>
						<md-button ng-click="ctrl.closeTab()" aria-label="Close tab">
							<md-icon md-menu-align-target><ng-md-icon icon="close"></ng-md-icon></md-icon>
							Close tab
						</md-button>
					</md-menu-item>
				</md-menu-content>
			</md-menu>
		</div>
	</md-toolbar>

    <md-content class="md-padding parlay-endpoint-card-tab-content">
    
        <form name="commandform" layout="column" ng-submit="ctrl.send($event)">

            <promenade-standard-endpoint-card-command-container
            	commandform="commandform"
            	wrapper="wrapper"
            	fields="ctrl.endpoint.content_fields"
            	flex>
            </promenade-standard-endpoint-card-command-container>
            
            <md-button flex type="submit" class="md-raised" ng-class="ctrl.error ? 'md-warn' : 'md-primary'" ng-disabled="commandform.$invalid" aria-label="Sends command to a Promenade Standard Endpoint.">
                <span ng-show="ctrl.sending">
                    Sent ({{ctrl.status_message}}) [{{ctrl.endpoint.getMessageId()}}]
                </span>
                <span ng-hide="ctrl.sending || ctrl.error">
                    Send
                </span>
				<span ng-show="ctrl.error">
					Error check log. ({{ctrl.status_message}}) [{{ctrl.endpoint.getMessageId()}}]
				</span>
            </md-button>
            
        </form>
    
    </md-content>
</md-tab>