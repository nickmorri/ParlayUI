<md-dialog aria-label="Graph Configuration" flex="90" flex-gt-md="70" ng-class="{'md-dialog-fullscreen' : $mdMedia}">
	<md-toolbar>
		<div class="md-toolbar-tools">
			<h2>Graph Configuration</h2>
			<span flex></span>
			<md-button class="md-icon-button" ng-click="ctrl.hide()">
				<md-icon aria-label="Close"><ng-md-icon icon="close"></ng-md-icon></md-icon>
			</md-button>
		</div>
	</md-toolbar>

	<md-dialog-content class="parlay-graph-configuration-dialog-content">

        <div layout-gt-sm="row" layout="column">

            <div flex flex-order="0" flex-order-gt-sm="1">

                <md-list><md-subheader>Y-Axis Range</md-subheader></md-list>

                <div layout="column">

                    <div layout="row" class="graph-axis-control">
                        <md-checkbox ng-checked="ctrl.maximum_locked " ng-click="ctrl.toggleMaximum()"></md-checkbox>
                        <md-input-container flex ng-switch="ctrl.maximum_locked">
                            <label>Maximum range</label>
                            <input ng-switch-when="false" ng-model="ctrl.smoothie.valueRange.max" type="number" disabled>
                            <input ng-switch-when="true" ng-model="ctrl.smoothie.options.maxValue" type="number">
                        </md-input-container>
                    </div>

                    <div layout="row">
                        <md-checkbox ng-checked="ctrl.minimum_locked" ng-click="ctrl.toggleMinimum()"></md-checkbox>
                        <md-input-container flex ng-switch="ctrl.minimum_locked">
                            <label>Minimum range</label>
                            <input ng-switch-when="false" ng-model="ctrl.smoothie.valueRange.min" type="number" disabled>
                            <input ng-switch-when="true" ng-model="ctrl.smoothie.options.minValue" type="number">
                        </md-input-container>
                    </div>

                </div>

            </div>

            <md-list flex flex-order="1" flex-order-gt-sm="0">

                <md-subheader>Streams</md-subheader>

				<md-list-item ng-repeat="stream in ctrl.item.data_streams | orderObjectBy: 'name'" layout="row" ng-click="ctrl.toggleGraphing(stream)" title="Click to toggle graphing">

                    <md-checkbox ng-checked="ctrl.isStreamEnabled(stream)" ng-click="ctrl.toggleGraphing(stream)"></md-checkbox>

					<p>{{stream.name}} <span ng-show="stream.value !== undefined">has value {{stream.value}}</span></p>

                    <md-button class="md-secondary md-icon-button md-primary" ng-click="stream.listen(false)">
                        <md-tooltip>Listen to stream</md-tooltip>
                        <md-icon ng-md-icon icon="play_arrow"></md-icon>
                    </md-button>

                    <md-button class="md-secondary md-icon-button md-accent" ng-click="stream.listen(true)">
                        <md-tooltip>Stop listening to stream</md-tooltip>
                        <md-icon ng-md-icon icon="stop"></md-icon>
                    </md-button>
				</md-list-item>
				
			</md-list>
		</div>

	</md-dialog-content>
		
</md-dialog>